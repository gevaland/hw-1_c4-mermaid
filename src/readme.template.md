# Дизайн ML системы - AI DJ

## 1. Цели и предпосылки

### 1.1. Обоснованность разработки продукта

**Бизнес-цель:**

- Автоматизация процесса сбора музыкального плейлиста для мероприятий или заведений с учетом анализа визуальных признаков и тескстовых запросов
- Повышение уровня удовлетворения посетителей, что улучшит отзывы и затем популярность заведения или мероприятия

**Польза от внедрения ML модели**

- Благодаря использованию машинного обучения можно будет учитывать в пользовательских запросах, такие признаки, как тип помещения, доминирующая цветовая гамма заведения, активности людей, дресс-код, которые позволяют удачнее и более обосновано подобрать музыку для помещения.

**Критерии успеха**

- В Яндекс картах, 15% отзывов баров и ресторанов упоминяют музыку, таким образом можем ставить критерию — получить 20% позитивные отзывы
- Экономия времени организаторов и администраторов, потраченное на сбор плейлистов с 30 минут до 1 минуты

### 1.2. Бизнес-требования и ограничения

**Бизнес-требования:**

- Для индивидуального пользователя сервиса – автоматизация подбора плей-листа в соответствии с его personality (настроение, музыкальный вкус, стиль)
- Для пользователя – организатора мероприятий/владельца общественных пространств – подбор плей-листа в соответствии с интерьером/цветовой гаммой помещения, текстовым описанием мероприятия/заведения, активностями/внешним видом (дресс-кодом) пользователей, посещающих мероприятия/заведения/общественные пространства, вследствие этого – повышение удовлетворенности этих людей сервисом. Примеры юзкейсов:
  - Пользователь — организатор мероприятия, при помощи этого сервиса может сгенерировать подходящий для него плейлист
  - Пользователь — владелец общественного пространства (кафе, торговый центр, коворкинг), при помощи сервиса может подобрать фоновую музыку
  - Пользователь — владелец общественного пространства (торговый центр, парк), устанавливает интерактивную развлекательную систему с сервисом, которая по внешнему виду посетителей индивидуально подбирает музыку для них

**Бизнес-ограничения:**

- Заказчик может накладывать различные критерии на допустимость песен в плейлистах: например, отсутствие ненормативной лексики, определенный жанр или язык
- Заказчик может предоставлять данные с камеры невысокого качества: например, если в торговом центре приложение используется с камерами наблюдения

**Что мы ожидаем от конкретной итерации:**

**Ожидания от конкретной итерации:**

- Разработка сервиса – рекомендательной системы, которая позволит подобрать плей-лист для мероприятия/заведения/общественного пространства, выбирая музыку из тестовой базой музыкальных произведений

**Описание бизнес-процесса пилота:**

- Пилот проекта может быть интегрирован в культурную программу различных мероприятий (например, университетских), на которых будет протестирован

**Возможные пути развития проекта**

- Для повышения точности рекомендаций можно обучить модель, которая поместит эмбеддинги песен и запросов пользователей в одно пространство. Референс: [LightFM](https://making.lyst.com/lightfm/docs/lightfm.html). Такую модель нужно итеративно дообучать с поступлением новых песен и запросов
- Базу данных нужно постоянно обновлять свежими песнями
- Для повышения точности рекомендаций можно добавить классификацию интерьера на фото
- Для повышения точности рекомендаций можно собирать обратную связь от пользователей (лайки, оценки и т.п.)
- Можно добавить функцию генерации короткого описания получившихся плейлистов с помощью LLM
- Для развития маркетинговой стратегии можно установить связи со стриминговыми площадками
- Для повышения привлекательности приложения для пользователей и увеличения проведенного в нем времени можно добавить социальные функции. Они могут включать возможность публиковать сгенерированные плейлисты, лайкать чужие и приводить в приложение друзей 

### 1.3. Что входит в скоуп проекта/итерации, что не входит

**На закрытие каких БТ подписываемся в данной итерации:**

- В данной итерации будет разработан MVP, который сможет подбирать плей-лист для мероприятия/заведения/общественного пространства

**Что не будет закрыто:**

- В данной итерации MVP не сможет подбирать плей-лист для конкретного пользователя

**Описание результата с точки зрения качества кода и воспроизводимости решения:**

- Код должен быть логичен и понятен, также должен осуществляться контроль версий кода и экспериментов для их воспроизводимости

**Описание планируемого технического долга:**

- Разработка подсистемы, позволяющей подбирать плей-лист для конкретного пользователя, опираясь на его стиль одежды, выражение лица, позу и так далее.
- Расширение базы музыкальных произведений, возможность создания подборок музыки для различных стран
- Каждый раз при добавлении новых песен в БД нужно пересчитывать ее индекс

### 1.4. Предпосылки решения

**Проблема.** Проанализировав отзывы о мероприятиях/заведениях, мы обнаружили, что отзывы могут ухудшаться из-за того, что музыка подобрана неправильно и/или она чересчур громкая, и пользователи склонны выбирать для следующего посещения другие заведения/мероприятия. Администрация заведения/мероприятия не всегда может выделить время для подбора плей-листа/деньги для найма диджея. Разрабатываемый сервис поможет закрыть потребность выбора подходящей музыки, и, как следствие, повысит удовлетворенность клиентов.

**Данные.** Так как данные предпочтений пользователей изначально недоступны, алгоритм нужно реализовывать в unsupervised режиме. Один из вариантов постановки задачи -- ранжирование объектов (песен).

**Тип инференса.** Онлайн по запросу пользователя выдается одна песня/плейлист.

# C4
## Context

![](c4-context.svg)

## Containers

![](c4-containers.svg)

## Components

![](c4-components.svg)

# UML UC

## Use Cases

![](uml-usecases.svg)
